
@import url("https://hello.myfonts.net/count/3ab588");
@import 'reset-css/reset.css';

@font-face {
  font-family: 'Mont-Book';
  src: url('webfonts/3AB588_0_0.eot');
  src: url('webfonts/3AB588_0_0.eot?#iefix') format('embedded-opentype'), url('webfonts/3AB588_0_0.woff2') format('woff2'), url('webfonts/3AB588_0_0.woff') format('woff'), url('webfonts/3AB588_0_0.ttf') format('truetype');
}

@font-face {
  font-family: 'Mont-Bold';
  src: url('webfonts/3AB588_1_0.eot');
  src: url('webfonts/3AB588_1_0.eot?#iefix') format('embedded-opentype'), url('webfonts/3AB588_1_0.woff2') format('woff2'), url('webfonts/3AB588_1_0.woff') format('woff'), url('webfonts/3AB588_1_0.ttf') format('truetype');
}

@mixin fontMontBook() {
  font-family: Mont-Book, Arial, Helvetica, sans-serif;
}

@mixin fontMontBold() {
  font-family: Mont-Bold, Arial, Helvetica, sans-serif;
}

@import 'reset-css/reset.css';

* {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
}

::selection {
  background: rgba(0, 0, 0, 0.99);
  color: white;
  text-shadow: none;
}

// utilities
$breakpoints: (
  'desktop-xl': 'min-width: 1921px',
  'desktop-l': 'max-width: 1440px',
  'desktop': 'max-width: 1280px',
  'tablet': 'max-width: 1024px',
  'phone': 'max-width: 640px',
  'phone-xs': 'max-width: 375px',
  'hover': 'hover: hover'
);

@mixin viewport($name) {
  @if map-has-key($breakpoints, $name) {
    @media (#{map-get($breakpoints, $name)}) {
      @content;
    }
  }
}

@keyframes twerk {
  10%,
  90% {
    transform: translate3d(calc(var(--s-twerk) * -1), calc(var(--s-twerk) * 1), 0);
  }

  20%,
  80% {
    transform: translate3d(calc(var(--s-twerk) * -1), calc(var(--s-twerk) * 1), 0);
  }

  30%,
  50%,
  70% {
    transform: translate3d(calc(var(--s-twerk) * 1), calc(var(--s-twerk) * -1), 0);
  }

  40%,
  60% {
    transform: translate3d(calc(var(--s-twerk) * 1), calc(var(--s-twerk) * 1), 0);
  }
}

///
/// screen-ratio-mix: Mixes the base-font-size with a given view-width ratio
///
/// $screenWidthRatio: @float [0-1] .1 means 10% of the font size is relative to the browser width
/// $designWidth: @int reference resolution, mostly the width of the sketch / photoshop file or the current breakpoint
/// $targetPXSize: @int PX value at $designWidth
///
/// @return @string calc that mixes VW with %
/// because we mix it with % it only works for font-sizes
///
@function screen-ratio-mix(
  $screen-width-ratio: 0.1,
  /// adds 10% of screen-width
  $design-width: 1440,
  /// the target width (artboard width)
  $target-px-size: 10
  /// target size in PX
) {
  $percent-size: $target-px-size / 16% * 100%;

  @return calc(#{$percent-size - $percent-size * $screen-width-ratio}% + #{$screen-width-ratio * (100 / $design-width) * 10}vw);
}

// styles

:root {
  //colors
  --c-text: rgba(0, 0, 0, 1);
  --c-text-inverted: rgba(255, 255, 255, 0.9);
  --c-lines: rgba(0, 0, 0, 1);
  --c-lines-inverted: rgba(255, 255, 255, 0.9);

  //sizes
  --s-text: 2.7rem;
  --s-text-small: calc(var(--s-text) * 0.75);
  --s-text-h1: calc(var(--s-text) * 3);
  --s-text-h2: calc(var(--s-text) * 2);
  --s-gutter: 8vh;
  --s-logo: 5vh;
  --s-lines: 2px;
  --s-twerk: 0.5px;
  --s-translateYAnimateIn: 10vh;

  //eases
  --e-out: cubic-bezier(0.165, 0.84, 0.44, 1);
  --e-inout: cubic-bezier(0.77, 0, 0.175, 1);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  @include fontMontBold;

  letter-spacing: -0.02em;
}

a {
  color: var(--s-text);
  text-decoration: none;
}

html {
  @include fontMontBook;

  font-size: screen-ratio-mix(0.8, 1440, 22);
}

body {
  font-size: var(--s-text);
  color: var(--c-text);
}

.close-button {
  --s-dims: 2em;
  $root: #{&};

  width: var(--s-dims);
  height: var(--s-dims);

  &::before {
    content: "";
    display: block;
    position: absolute;
    width: var(--s-dims);
    height: var(--s-dims);
    background-color: black;
    transform: scaleY(0);
    transform-origin: top left;
    transition: transform var(--e-out) 0.35s;
  }

  &:hover {
    animation: twerk 0.4s cubic-bezier(0.3, 0.7, 0, 1.5) both infinite;

    &::before {
      transform-origin: bottom left;
      transform: scaleY(1);
    }
  }

  &__link {
    display: block;
    position: relative;
    width: var(--s-dims);
    height: var(--s-dims);
    transform: rotate(45deg);

    &::after {
      transform: rotate(90deg);
    }

    &::before,
    &::after {
      content: "";
      display: block;
      position: absolute;
      top: 50%;
      width: var(--s-dims);
      height: var(--s-lines);
      background-color: var(--c-lines);
      transition: background-color ease-out 0.25s;

      .is-inverted & {
        background-color: var(--c-lines-inverted);
      }

      #{$root}:hover & {
        background-color: white;
      }
    }
  }
}

.logo {
  $root: #{&};

  position: fixed;
  top: var(--s-gutter);
  left: var(--s-gutter);
  transform: rotate(-90deg) translate(-99%, -20%);
  transform-origin: top left;
  will-change: transform;

  &__container {
    &:hover {
      animation: twerk 0.4s cubic-bezier(0.3, 0.7, 0, 1.5) both infinite;
    }
  }

  &__mask {
    display: block;
    position: absolute;
    width: 0%;
    height: 100%;
    left: 100%;
    transform: translateX(-100%);
    overflow: hidden;
    transition: width var(--e-inout) 0.5s;

    #{$root}:hover & {
      width: 100%;
      left: 0;
      transform: none;
    }
  }

  &__el {
    display: block;
    width: auto;
    height: var(--s-logo);
    fill: var(--c-text);

    &--black {
      fill: black;
      position: absolute;
      right: 0;

      #{$root}:hover & {
        position: relative;
        right: 0;
      }
    }
  }
}

.navigation {
  @include fontMontBold;

  position: fixed;
  z-index: 999;
  bottom: var(--s-gutter);
  left: var(--s-gutter);
  font-size: 1.5vh;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  transform: rotate(-90deg) translate(0, 100%);
  transform-origin: bottom left;

  &__link {
    --s-padding: -0.3em;

    display: inline-block;
    position: relative;
    margin-right: 3vh;
    transition: color ease-out 0.25s;

    &::before,
    &::after {
      content: "";
      display: inline-block;
      position: absolute;
      top: var(--s-padding);
      bottom: calc(var(--s-padding) + 0.15em);
      right: var(--s-padding);
      left: var(--s-padding);
      background-color: var(--c-text);
      z-index: -1;
      transform: scaleX(0);
      transform-origin: top right;
      transition: transform var(--e-inout) 0.25s;
      will-change: transform;
    }

    &::after {
      left: 0;
      right: 0;
      top: 1em;
      bottom: auto;
      height: var(--s-lines);
    }

    &:hover {
      color: white;
      animation: twerk 0.4s cubic-bezier(0.3, 0.7, 0, 1.5) both infinite;

      &::before {
        transform: none;
        transform-origin: top left;
      }
    }

    &.is-current {
      cursor: default;

      &::before {
        transform-origin: top right;
      }

      &::after {
        transform: none;
      }

      &:hover {
        color: var(--c-text);
        animation: none;

        &::before {
          transform: scaleX(0);
        }
      }
    }
  }
}

.content-temp {
  width: 50%;
  margin-left: 50%;
  margin-top: var(--s-gutter);
}

.projects {
  --d-opacity: 0.35s;

  overflow: hidden;

  &__container {
    width: 50%;
    margin-left: 50%;
    padding-top: var(--s-gutter);
    transition: transform var(--e-inout) 0.75s, opacity ease var(--d-opacity);

    &.is-masked {
      opacity: 0;
    }

    &.is-translated {
      transform: translateY(var(--s-translateYAnimateIn));
      transition: opacity ease var(--d-opacity);
    }
  }
}

.project-list {
  $root: #{&};

  border-bottom: var(--s-lines) solid var(--c-lines);

  &:first-child {
    border-top: var(--s-lines) solid var(--c-lines);
  }

  &__link {
    display: block;
    padding: 2em 0;
    padding-right: var(--s-gutter);
  }

  &__title {
    font-size: var(--s-text-h2);
    padding-bottom: 0.3em;
    transition: color ease-out 0.2s;
    will-change: color;

    #{$root}:hover & {
      animation: twerk 0.4s cubic-bezier(0.3, 0.7, 0, 1.5) both infinite;
    }
  }

  &__detail {
    font-size: var(--s-text-small);
  }

  &__separation {
    display: inline-block;
    padding: 0 0.2em;
  }
}

.project {
  $root: #{&};

  position: relative;
  z-index: 100;
  transition: opacity ease-out 0.3s;

  &.is-inverted {
    color: var(--c-text-inverted);
  }

  &__container {
    min-height: 100vh;
  }

  &__close-button {
    position: fixed;
    z-index: 1000;
    top: var(--s-gutter);
    right: var(--s-gutter);
  }

  &__header {
    padding: var(--s-gutter);
  }

  &__title {
    font-size: var(--s-text-h1);
    padding-right: var(--s-gutter);
  }

  &__pagination {
    margin-top: var(--s-gutter);
  }

  &__background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }
}

.pagination {
  color: var(--c-text-inverted);
  display: flex;

  &__link {
    flex-basis: 50%;
    text-align: center;
    background-color: var(--c-text);
    box-sizing: border-box;
    padding: calc(var(--s-gutter) * 1.5) calc(var(--s-gutter) * 0.5);

    &:first-child {
      margin-right: var(--s-lines);
    }
  }

  &__subtitle {
    display: block;
    font-size: var(--s-text-small);
    margin-bottom: 1em;
  }

  &__title {
    @include fontMontBold();
  }
}

.credits {
  font-size: calc(var(--s-text-small) * 0.5);
  padding-right: var(--s-gutter);
  margin: var(--s-gutter) 0;
}

.transition-background {
  &__el-in,
  &__el-out {
    position: fixed;
    z-index: 1000;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    will-change: transform;
    background-color: white;

    &.is-normal-page {
      background-color: black;
      z-index: 998;
    }
  }
}

.animate-in {
  --d-delay: 0.25s;
  --d-delay-step: 0.2s;
  --d-in-opacity: 0.75s;
  --e-opacity: ease;
  --d-in-transform: 1s;
  --e-transform: var(--e-out);
  --delay-id: 0;

  opacity: 0;
  transform: translateY(var(--s-translateYAnimateIn));
  transition: opacity var(--e-opacity) var(--d-in-opacity), transform var(--e-transform) var(--d-in-transform);
  transition-delay: calc(var(--d-delay) + var(--delay-id) * var(--d-delay-step));
  will-change: opacity, transform;

  .is-displayed & {
    opacity: 1;
    transform: none;
  }

  @for $i from 1 to 10 {
    &__s#{$i} {
      --delay-id: #{$i};
    }
  }
}

.transition-wave-in-enter-active {
  transition: transform var(--e-inout) 0.5s;
  transform-origin: top left;
}

.transition-wave-in-enter,
.transition-wave-in-leave-to {
  transform: scaleY(0);
}

.transition-wave-out-enter-active {
  transform: scaleY(0);
  transition: transform var(--e-inout) 0.5s;
  transform-origin: bottom left;
}

.transition-wave-out-leave-active {
  transform: scaleY(0);
}

.transition-wave-out-enter {
  transform: scaleY(1);
}

.transition-logo-enter-active {
  transition: opacity var(--e-inout) 0.5s;
}

// helper classes
.visually-hidden {
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
}

.visually-hidden a:focus,
.visually-hidden input:focus,
.visually-hidden button:focus {
  position: static;
  width: auto;
  height: auto;
}
